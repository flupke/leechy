Leechy - simple one-way file sharing
====================================

Leechy allows you to easilly share files hosted on your server with your
friends (and only your friends).

It works by creating an unique URL for each user, which he can use to access
your files.

Installation
------------

Use the ``setup.py`` script to install leechy::

    python setup.py install

You can try leechy with the sample Django project found in ``sample_site``::

    cd sample_site/
    python manage.py syncdb
    python manage.py runserver    

If you want to run the site on your server, you can use the accompanying
install scripts::

    ./install.sh 
    ./run-gunicorn.sh

This will create a virtualenv for the site and run it with gunicorn.  You then
have to point your frontend server configuration to the site's socket
(``/tmp/leechy.sock`` by default). For example with nginx::

    worker_processes  1;

    events {
        worker_connections  1024;
    }

    http {
        include mime.types;
        default_type application/octet-stream;
        sendfile on;
        keepalive_timeout 65;
        gzip on;
        
        upstream leechy {
            server unix:/tmp/leechy.sock fail_timeout=0;
        }

        server {
            server_name  yoursite.com;

            location / {
                proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
                proxy_set_header Host $http_host;
                proxy_redirect off;
                proxy_pass http://leechy;
            }

            location /static {
                alias /path/to/leechy/static/files;
                gzip off;
            }
        }
    }

Don't forget to edit the settings accordingly, see below for details.

Configuration
-------------

You must define three settings for leechy:

``LEECHY_FILES_SOURCE``
    The folder containing the files to be served. This folder doesn't have to
    be (and shouldn't be) served by your web server.

``LEECHY_FILES_ROOT``
    The folder that will contain the symlinks generated by leechy to the served
    files. It is advised to disable indexes in your web server config to keep
    the files private.

``LEECHY_FILES_URL``
    The URL from which the files in ``LEECHY_FILES_ROOT`` can be fetched.

The following optional settings can also be defined for more customization:

``LEECHY_INNKEEPER_NAME``
    The name used in emails sent by Lychee.

``LEECHY_INVITATION_SUBJECT``
    The subject of invitation emails.

``LEECHY_INVITATION_EMAIL_FROM``
    The "from" address of invitation emails.

``LEECHY_EXCLUDE_FILES``
    File and directory names matching this regular expression are not shared.
    The default is to exclude names starting with a period.

Limitations
-----------

Leechy needs symlinks and thus will only work on Unix systems.
